<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mypagens">

	<!-- 로그인 확인 -->
 	<select id="login_check" parameterType="String" resultType="member">
		select * from member where id=#{id}
	</select>

	 <!-- 회원정보 수정 -->
	<update id="mypage_modify" parameterType="member">
		update member set pw=#{pw, jdbcType=VARCHAR}, name=#{name, jdbcType=VARCHAR}, tel=#{tel, jdbcType=VARCHAR}, mail=#{mail, jdbcType=VARCHAR},
		addr1=#{addr1, jdbcType=VARCHAR}, addr2=#{addr2, jdbcType=VARCHAR}, reg=#{reg, jdbcType=VARCHAR}, profile=#{profile, jdbcType=VARCHAR},
		quit='n' where id=#{id}
	</update>

	<!-- 회원탈퇴 -->
<!-- 	<update id="mypage_delete" parameterType="member"> -->
<!-- 		update member set quit=#{quit} where id=#{id} -->
<!-- 	</update> -->

	<!-- 내 리뷰 갯수 -->
<!-- 	<select id="getReviewCount" resultType="int"> -->
<!-- 		select count(rev_id) from review -->
<!-- 	</select> -->

	<!-- 내 리뷰 목록 -->
<!-- 	<select id="getReviewList" parameterType="int" resultType="review"> -->
<!-- 	    <![CDATA[ -->
<!-- 		select * from (select rownum rnum, review.* from   -->
<!-- 	  	(select * from review order by rev_id asc) review)  -->
<!-- 	    where rnum >= ((#{page}-1) * 10+1) and rnum <= (#{page} * 10) -->
<!-- 		]]> -->
<!-- 	</select> -->
	
	<!-- 내 리뷰 상세 -->
<!-- 	<select id="rev_content" parameterType="int" resultType="review"> -->
<!-- 		select * from review where rev_id=#{rev_id} -->
<!-- 	</select> -->
	
	<!-- 내 리뷰 수정 -->
<!-- 	<update id="rev_modify" parameterType="review"> -->
<!-- 		update review set -->
<!-- 		rev_title=#{rev_title}, -->
<!-- 		rev_content=#{rev_content}, -->
<!-- 		rev_photo=#{rev_photo} -->
<!-- 		where rev_id=#{rev_id} -->
<!-- 	</update> -->
	
	<!-- 내 리뷰 삭제 -->
<!-- 	<delete id="rev_delete" parameterType="int"> -->
<!-- 		delete from review where rev_id=#{rev_id} -->
<!-- 	</delete> -->
	
	<!-- 내 문의 갯수 -->
<!-- 	<select id="getQnaCount" resultType="int"> -->
<!-- 		select count(qna_id) from qna -->
<!-- 	</select> -->
	
	<!-- 내 문의 목록 -->
<!-- 	<select id="getQnaList" parameterType="int" resultType="qna"> -->
<!-- 	    <![CDATA[ -->
<!-- 		select * from (select rownum rnum, qna.* from   -->
<!-- 	  	(select * from qna order by qna_id asc) qna)  -->
<!-- 	    where rnum >= ((#{page}-1) * 10+1) and rnum <= (#{page} * 10) -->
<!-- 		]]> -->
<!-- 	</select> -->
	
	<!-- 내 문의 상세 -->
<!-- 	<select id="qna_content" parameterType="int" resultType="qna"> -->
<!-- 		select * from qna where qna_id=#{qna_id} -->
<!-- 	</select> -->
	
	<!-- 내 문의 수정 -->
<!-- 	<update id="qna_modify" parameterType="qna"> -->
<!-- 		update qna set -->
<!-- 		qna_title=#{qna_title}, -->
<!-- 		qna_content=#{qna_content} -->
<!-- 		where qna_id=#{qna_id} -->
<!-- 	</update> -->
	
	<!-- 내 문의 삭제 -->
<!-- 	<delete id="qna_delete" parameterType="int"> -->
<!-- 		delete from qna where qna_id=#{qna_id} -->
<!-- 	</delete> -->
</mapper>